{"ast":null,"code":"import _toConsumableArray from\"/Users/mehulchattopadhyay/Desktop/amazon-clone/amazon/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mehulchattopadhyay/Desktop/amazon-clone/amazon/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[],user:null};export default function reducer(state,action){switch(action.type){case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Item not found\");}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":var index1;for(var i=0;i<action.user.email.length;i++){if(action.user.email[i]===\"@\")index1=i;}var parsedString=action.user.email.substring(0,index1);return _objectSpread(_objectSpread({},state),{},{user:parsedString});default:return state;}}","map":{"version":3,"sources":["/Users/mehulchattopadhyay/Desktop/amazon-clone/amazon/src/Reducer.js"],"names":["initialState","basket","user","reducer","state","action","type","item","index","findIndex","basketItem","id","newBasket","splice","console","warn","index1","i","email","length","parsedString","substring"],"mappings":"6RAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CAC1BC,MAAM,CAAE,EADkB,CAE1BC,IAAI,CAAE,IAFoB,CAArB,CAKP,cAAe,SAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgC,CAC7C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,eAAL,CACE,sCACKF,KADL,MAEEH,MAAM,8BAAMG,KAAK,CAACH,MAAZ,GAAoBI,MAAM,CAACE,IAA3B,EAFR,GAIF,IAAK,oBAAL,CACE,GAAIC,CAAAA,KAAK,CAAGJ,KAAK,CAACH,MAAN,CAAaQ,SAAb,CACV,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBN,MAAM,CAACM,EAAzC,EADU,CAAZ,CAIA,GAAIC,CAAAA,SAAS,oBAAOR,KAAK,CAACH,MAAb,CAAb,CAEA,GAAIO,KAAK,EAAI,CAAb,CAAgB,CACdI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAwB,CAAxB,EACD,CAFD,IAEO,CACLM,OAAO,CAACC,IAAR,CAAa,gBAAb,EACD,CACD,sCACKX,KADL,MAEEH,MAAM,CAAEW,SAFV,GAKF,IAAK,UAAL,CACE,GAAII,CAAAA,MAAJ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGZ,MAAM,CAACH,IAAP,CAAYgB,KAAZ,CAAkBC,MAAtC,CAA8CF,CAAC,EAA/C,CAAmD,CACjD,GAAIZ,MAAM,CAACH,IAAP,CAAYgB,KAAZ,CAAkBD,CAAlB,IAAyB,GAA7B,CAAkCD,MAAM,CAAGC,CAAT,CACnC,CAED,GAAMG,CAAAA,YAAY,CAAGf,MAAM,CAACH,IAAP,CAAYgB,KAAZ,CAAkBG,SAAlB,CAA4B,CAA5B,CAA+BL,MAA/B,CAArB,CAEA,sCACKZ,KADL,MAEEF,IAAI,CAAEkB,YAFR,GAKF,QACE,MAAOhB,CAAAA,KAAP,CArCJ,CAuCD","sourcesContent":["export const initialState = {\n  basket: [],\n  user: null,\n};\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n    case \"REMOVE_FROM_BASKET\":\n      let index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id\n      );\n\n      let newBasket = [...state.basket];\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\"Item not found\");\n      }\n      return {\n        ...state,\n        basket: newBasket,\n      };\n\n    case \"SET_USER\":\n      var index1;\n      for (let i = 0; i < action.user.email.length; i++) {\n        if (action.user.email[i] === \"@\") index1 = i;\n      }\n\n      const parsedString = action.user.email.substring(0, index1);\n\n      return {\n        ...state,\n        user: parsedString,\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}